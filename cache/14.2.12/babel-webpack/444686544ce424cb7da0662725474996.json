{"ast":null,"code":"import { ElementRef, Renderer2 } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../nuevohero/servicios/backgroundToggle.service\";\nimport * as i2 from \"../nuevohero/servicios/bodyToggle.service\";\nimport * as i3 from \"../nuevohero/servicios/sinEstadoInicial.service\";\nimport * as i4 from \"../nuevohero/servicios/devuelveEstadoVideo.service\";\nimport * as i5 from \"@angular/common\";\nconst _c0 = [\"video\"];\nexport let BotonswitchComponent = /*#__PURE__*/(() => {\n  class BotonswitchComponent {\n    constructor(stateserv, elem, bodyserv, renderer, sinestadoserv,\n    //isVideoPlayingServ: Estado TRUE si esta video \"playing\"\n    isVideoPlayingServ) {\n      this.stateserv = stateserv;\n      this.elem = elem;\n      this.bodyserv = bodyserv;\n      this.renderer = renderer;\n      this.sinestadoserv = sinestadoserv;\n      this.isVideoPlayingServ = isVideoPlayingServ;\n      this.isVideoBackground = false; // TRUE -- 2022\n      this.isSunOrMoon = true;\n      this.isVideoOn = true;\n      this.isVideoPlaying = false; // TRUE -- 2022\n      this.classes = this.elem.nativeElement.ClassList;\n      this.body = document.body;\n    }\n    ngOnInit() {}\n    ngAfterViewInit() {\n      if (!this.isVideoBackground) {\n        this.video.nativeElement.pause();\n        this.video.nativeElement.style.display = \"none\";\n      } else {\n        this.video.nativeElement.play();\n        this.video.nativeElement.style.display = \"block\";\n      }\n    }\n    playPause() {\n      if (!this.isVideoBackground) {\n        this.video.nativeElement.pause();\n        this.video.nativeElement.style.display = \"none\";\n      } else {\n        this.video.nativeElement.play();\n        this.video.nativeElement.style.display = \"block\";\n      }\n      //var myVideo: any = document.getElementById(\"video\");\n      //if (myVideo.paused) myVideo.play();\n      //else myVideo.pause();\n    }\n    // cambia el estado del servicio ejemplo: si es TRUE al presionar cambia a FALSE (SWITCH)\n    cambiarToggle() {\n      this.isVideoPlaying = !this.isVideoPlaying; // Solo verifica STATE del video\n      this.isVideoPlayingServ.cambiarEstado(this.isVideoPlaying);\n      this.stateserv.cambiarEstado(this.isVideoBackground);\n      this.isVideoBackground = !this.isVideoBackground; // Solo verifica STATE del background\n      var miVideo = document.getElementById('video');\n      console.log(\"console background desde boton switch: \" + this.isVideoBackground); // cuando es true el video esta escondido\n      if (this.isVideoBackground) {\n        /* this.isSunOrMoon = true; */\n      } else {\n        /* this.isSunOrMoon = false; */\n      }\n      //flag para el cambio de video on/off\n      this.sinestadoserv.setEstado(this.isVideoOn);\n      this.isVideoOn = !this.isVideoOn;\n    }\n    cambiarBdBackground() {\n      console.log(\"sun or moon: \" + this.isSunOrMoon);\n      if (this.isSunOrMoon) {\n        this.renderer.addClass(this.body, 'body_moon');\n        this.renderer.removeClass(this.body, 'body_sun');\n      }\n      if (!this.isSunOrMoon) {\n        this.renderer.addClass(this.body, 'body_sun');\n        this.renderer.removeClass(this.body, 'body_moon');\n      }\n      this.isSunOrMoon = !this.isSunOrMoon;\n      this.bodyserv.setEstado(this.isSunOrMoon);\n    }\n  }\n  BotonswitchComponent.ɵfac = function BotonswitchComponent_Factory(t) {\n    return new (t || BotonswitchComponent)(i0.ɵɵdirectiveInject(i1.BackgroundToggleService), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i2.BodyToggleService), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i3.SinEstadoInicialService), i0.ɵɵdirectiveInject(i4.DevuelveEstadoVideoService));\n  };\n  BotonswitchComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BotonswitchComponent,\n    selectors: [[\"app-botonswitch\"]],\n    viewQuery: function BotonswitchComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.video = _t.first);\n      }\n    },\n    decls: 7,\n    vars: 3,\n    consts: [[\"id\", \"video\", \"width\", \"100%\", \"height\", \"100%\", \"muted\", \"\", \"loop\", \"\", 3, \"ngClass\"], [\"video\", \"\"], [\"id\", \"video_source\", \"src\", \"assets/nuevohero/backgroundvideo_3mb_1980.webm\", \"type\", \"video/webm\"], [\"src\", \"\"], [1, \"switch\"], [1, \"fas\", 3, \"ngClass\", \"click\"], [1, \"\", 3, \"ngClass\", \"click\"]],\n    template: function BotonswitchComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"video\", 0, 1);\n        i0.ɵɵelement(2, \"source\", 2, 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 4)(5, \"i\", 5);\n        i0.ɵɵlistener(\"click\", function BotonswitchComponent_Template_i_click_5_listener() {\n          return ctx.cambiarToggle();\n        })(\"click\", function BotonswitchComponent_Template_i_click_5_listener() {\n          return ctx.playPause();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"i\", 6);\n        i0.ɵɵlistener(\"click\", function BotonswitchComponent_Template_i_click_6_listener() {\n          return ctx.cambiarBdBackground();\n        });\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngClass\", ctx.isVideoBackground ? \"position_fixed\" : \"position_absolute\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngClass\", ctx.isVideoBackground ? \"fa-video-slash\" : \"fa-video\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", ctx.isVideoBackground ? ctx.isSunOrMoon ? \"ri-moon-fill \" : \"ri-sun-line\" : \"\");\n      }\n    },\n    dependencies: [i5.NgClass],\n    styles: [\".switch[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;position:fixed;padding:5px;z-index:9999;color:#435357;border-radius:1px 1px 10px 10px;height:60px;right:10px;background:#2c3b73}.switch[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;cursor:pointer}.switch[_ngcontent-%COMP%]:hover{color:#faebd7}video[_ngcontent-%COMP%]{right:0;bottom:0;min-width:100%;min-height:100%;width:100vw;height:100vh;-o-object-fit:cover;object-fit:cover;z-index:-1;opacity:.3}.position_fixed[_ngcontent-%COMP%]{position:fixed}.position_absolute[_ngcontent-%COMP%]{position:absolute}.background_video[_ngcontent-%COMP%]{background:rgba(28,28,60,.3803921569);transition:background-color 2.9s linear}.background_novideo[_ngcontent-%COMP%]{background-color:#000;transition:background-color 2.9s linear;background-image:url(/assets/nuevohero/fondohero5.png);background-size:cover;background-repeat:no-repeat;overflow:hidden;opacity:.8}.card_video[_ngcontent-%COMP%]{background:rgba(45,65,90,.2705882353);transition:background-color 2.7s linear}.card_novideo[_ngcontent-%COMP%]{background:transparent;transition:background-color 2.7s linear}@media screen and (max-width: 1920px){.switch[_ngcontent-%COMP%]{right:350px}}@media screen and (max-width: 1280px){.switch[_ngcontent-%COMP%]{right:150px}}@media screen and (max-width: 980px){.switch[_ngcontent-%COMP%]{right:130px}}@media screen and (max-width: 850px){.switch[_ngcontent-%COMP%]{right:90px}}@media screen and (max-width: 779px){.switch[_ngcontent-%COMP%]{right:100px}}@media screen and (max-width: 537px){.switch[_ngcontent-%COMP%]{right:40px}}@media screen and (max-width: 322px){.switch[_ngcontent-%COMP%]{right:30px}}\"]\n  });\n  return BotonswitchComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}